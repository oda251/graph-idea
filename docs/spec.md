# 仕様書

## 想定ユーザー
広告代理店に勤務する30歳のビジネスパーソン。クライアントワークやプロジェクト推進の中で、広告制作に関するアイデア出しや情報整理を日常的に行っている。

## 想定ユースケース
- 新規案件ごとに、どんな広告制作を行うかアイデアを可視化・整理したい。
- クライアントへの提案資料作成前に、アイデアの全体像や関係性をグラフで俯瞰したい。
- チーム内のブレストで出たアイデアをノードグラフでまとめ、後から見返せるようにしたい。


以降、目的や機能要件などを追記していきます。
## 機能要件

### 必須機能
- ノードの作成・編集・削除
- ノード同士の接続（エッジの作成・削除）
- ノードの移動・レイアウト調整
- ノードにテキストやメモを記入
- グラフ全体の保存・読み込み（json形式）
- 複数AIエージェントによるアイデア支援

#### AIエージェントの具体的な役割
- 発散モード：任意のノードをもとに新しいアイデアを提案・拡張する
- 収束モード：既存のノードやアイデアをまとめたり、結合・要約する
- ユーザーとの対話を通じたブレスト支援

### あれば嬉しい機能
- グラフのエクスポート（画像/PDF/テキストなど）
- 時系列ビュー（ノードやエッジの作成・更新履歴を時系列で可視化）

### 補足事項

### ノードの階層構造（サブノード）
説明や補足もノードとして追加し、親ノードの下にサブノードとして階層的に管理できる。サブノードから新たなアイデアへ発展させることも可能

## 画面仕様

### 対話形式ノード追加UX案
- 右側サイドバーに対話ウインドウを表示し、入力で、選択中のノードに繋がる形でノードを追加できる
- ボタン切り替えで「単純なノード追加」「AIによる複数ノード追加」などモードを選択可能
- 対話ウインドウでAIサジェストや履歴表示も実装可能

### ノードグラフ編集画面
- レイアウト：左右にサイドバー、中央にメインキャンバス、画面下部にツールバーを配置
	- 左サイドバー：ノード一覧、ノード追加、グラフ全体操作（新規作成・保存・読み込みなど）
	- 右サイドバー：ノード詳細表示・編集、サブノード追加など
- メインキャンバス：特定のノード（メインノード）についての、ノードグラフの表示・編集（ノードの移動、接続、削除など）
- メインノードの親子関係は画面上部のパンくずリストで可視化し、クリックで階層移動できる
- ツールバー：画面下部に配置し、ノード追加・エッジ追加・レイアウト調整などの操作を集約
- 画面イメージ：FigmaのようなUI/UXを目指す

### ノードコンポーネントUI仕様
- グラフ上では部分的な情報を表示し、ノードクリックで詳細画面が開く
- サブノード有無を視覚的に表現
- ドラッグハンドル（移動用）

#### ノードコンポーネントのバリエーション
- カード型：四角いカード状。content.toString()の冒頭数行・サブノード数・作者などのプロパティを表示
- 円型：純粋な円。サブノード数に応じて円の大きさが変化し、content.toString()の冒頭を数文字だけ表示する

### ノード詳細画面UI仕様
- ノードをクリックすると、画面横に詳細画面が開く
- 詳細画面は大きく「プロパティ表示」と「サブノードグラフ表示」に分かれる
	- プロパティ：ノードの内容（コンテンツ）、色などを表示・編集
	- サブノードグラフ：該当ノードのサブノードをグラフ形式で表示
- サブノードグラフはボタンクリックでメイン画面に展開される
